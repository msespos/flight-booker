<%= form_with url: "/flights", method: :get do |f| %>
  Departing from:
  <%= select(:flight, :departure_airport_id, @airport_options) %>
  Arriving at:
  <%= select(:flight, :arrival_airport_id, @airport_options) %>
  Number of Passengers:
  <%= select_tag(:number_of_passengers, options_for_select(@passenger_options)) %>
  Departure Date:
  <%= select :flight, :departure_date, Flight.all
             .collect { |f| format_date(f[:departure_date]) }.uniq %>
  <%= f.submit "Go!" %>
<% end %>
<% unless @found_flights.nil? %>
  <% if @found_flights[0].nil? %>
    No flights found
  <% else %>
    <% @found_flights.each do |f| %>
      <%= Flight.airport_code(f[:departure_airport_id]) %>
      <%= Flight.airport_code(f[:arrival_airport_id]) %>
      <%= format_date(f[:departure_date]) %>
      <%= format_time(f[:departure_time]) %><br>
    <% end %>
  <% end %>
<% end %>
